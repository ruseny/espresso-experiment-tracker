{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} New experiment {% endblock %}</h1>
    <h2>Fill in the following form</h2>
    <form method="POST" action="#" id="new_exp_form">
        Current user : {{ current_user }} <input type="hidden" id="user_id" name="user_id" value={{user_id}}> <br>
        Default values retrieved from the setup : {{ default_setup_name}} <br>
        Coffee machine : <select name="coffee_machine_id">
            {% for id in machine_dict %}
                <option value="{{ id }}" {% if (id == default_coffee_machine_id) %} selected="selected" {% endif %}>{{ machine_dict[id] }}</option>
            {% endfor %}
        </select> <br>
        Grinder : <select name="grinder_id">
            {% for id in grinder_dict %}
                <option value="{{ id }}" {% if (id == default_grinder_id) %} selected="selected" {% endif %}>{{ grinder_dict[id] }}</option>
            {% endfor %}
        </select> <br>
        Portafilter : <select name="portafilter_id">
            {% for id in portafilter_dict %}
                <option value="{{ id }}" {% if (id == default_portafilter_id) %} selected="selected" {% endif %}>{{ portafilter_dict[id] }}</option>
            {% endfor %}
        </select> <br>
        WDT used ? <select name="wdt_used">
            <option value="yes" {% if (default_wdt_used == "yes") %} selected="selected" {% endif %}>yes</option>
            <option value="no" {% if (default_wdt_used == "no") %} selected="selected" {% endif %}>no</option> 
        </select> <br>
        Tamping method : <select name="tamping_method">
            <option value="manual" {% if (default_tamping_method == "manual") %} selected="selected" {% endif %}>manual</option>
            <option value="electric" {% if (default_tamping_method == "electric") %} selected="selected" {% endif %}>electric</option>
        </select>
        Tamping force (kg) : <input type="text" name="tamping_weight_kg" value={{default_tamping_weight_kg}}> <br>
        Leveler used ? <select name="leveler_used">
            <option value="yes" {% if (default_leveler_used == "yes") %} selected="selected" {% endif %}>yes</option>
            <option value="no" {% if (default_leveler_used == "manual") %} selected="selected" {% endif %}>no</option> 
        </select> <br>
        Puck screen used ? <select name="puck_screen_used">
            <option value="yes" {% if (default_puck_screen_used == "yes") %} selected="selected" {% endif %}>yes</option>
            <option value="no" {% if (default_puck_screen_used == "no") %} selected="selected" {% endif %}>no</option> 
        </select>
        Puck screen thickness (mm) : <input type="text" name="puck_screen_thickness_mm" value={{default_puck_screen_thickness_mm}}> <br>
        Coffee beans : <select name="coffee_bean_purchase_id">
            {% for id in purchase_dict %}
                <option value="{{ id }}">{{ purchase_dict[id] }}</option>
            {% endfor %}
        </select> <br>
        Grind level : <input type="text" name="grind_setting" value={{grind_setting}}> <br>
        Amount (grams) : <input type="text" name="dose_gr" value={{dose_gr}}> <br>
        Water temperature (C) : <input type="text" name="water_temp_c" value="{{default_water_temp_c}}"> <br>
        Extraction time (sec) : <input type="text" name="extraction_time_sec" value={{extraction_time_sec}}> <br>
        Output (gr) : <input type="text" name="yield_gr" value={{yield_gr}}> <br>
        <input type="submit" value="Submit">
    </form>
{% endblock %}